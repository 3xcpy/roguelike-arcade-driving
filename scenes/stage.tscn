[gd_scene load_steps=9 format=3 uid="uid://wb45rm4nabob"]

[ext_resource type="PackedScene" uid="uid://dhtn00310jucy" path="res://scenes/player.tscn" id="1_8rem4"]
[ext_resource type="Texture2D" uid="uid://phtn83sdcm6r" path="res://sprites/grid.png" id="2_gi7kc"]
[ext_resource type="Shader" uid="uid://celbxoq3s5mxx" path="res://shaders/distortions.gdshader" id="2_kewym"]
[ext_resource type="Script" uid="uid://d3cvnf1armkbm" path="res://scripts/floor.gd" id="4_6c5u0"]
[ext_resource type="Material" uid="uid://csxiurfh7gu4o" path="res://materials/floor_colors.tres" id="5_2so7o"]
[ext_resource type="PackedScene" uid="uid://ce4htckcwoxf" path="res://scenes/distortion_emitter.tscn" id="5_vcsse"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6c5u0"]
shader = ExtResource("2_kewym")
shader_parameter/weight_positions = PackedVector2Array(300, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
shader_parameter/weights = PackedFloat32Array(0.155, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
shader_parameter/weight_count = 1
shader_parameter/weight_to_dist = 10000.0
shader_parameter/falloff_distance = 0.3
shader_parameter/falloff_variance = 0.05

[sub_resource type="Environment" id="Environment_2so7o"]
background_mode = 3
glow_enabled = true
glow_intensity = 8.0
glow_bloom = 0.08
glow_hdr_threshold = 0.95
glow_hdr_scale = 0.5
glow_hdr_luminance_cap = 20.0

[node name="Stage" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1_8rem4")]
position = Vector2(51, 269)

[node name="Floor" type="TextureRect" parent="."]
z_index = -100
texture_repeat = 2
material = SubResource("ShaderMaterial_6c5u0")
offset_left = -94.0
offset_top = -64.0
offset_right = 561.0
offset_bottom = 403.0
pivot_offset = Vector2(74, 114)
texture = ExtResource("2_gi7kc")
expand_mode = 1
stretch_mode = 1
script = ExtResource("4_6c5u0")

[node name="ColorModifier" type="ColorRect" parent="Floor"]
material = ExtResource("5_2so7o")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(200, 26)

[node name="DistortionEmitter" parent="." instance=ExtResource("5_vcsse")]
position = Vector2(352, 180)
weight = 0.2

[node name="DistortionEmitter2" parent="." instance=ExtResource("5_vcsse")]
position = Vector2(234, 262)
weight = 0.2

[node name="DistortionEmitter3" parent="." instance=ExtResource("5_vcsse")]
position = Vector2(390, 65)
weight = 0.2

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_2so7o")
